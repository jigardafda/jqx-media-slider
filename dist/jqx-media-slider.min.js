/*! jqx-media-slider 2014-11-04 */
!function(a,b){function c(a,b){this._optionsFilter(b),this.container=a,a.html(this.getMainContainerTmplt()),this.movingBoxHolder=this.container.find("[data-jqx-moving-box-holder]"),this.movingBox=this.container.find("[data-jqx-moving-box]"),this.buttons={left:this.container.find("[data-jqx-left-btn]"),right:this.container.find("[data-jqx-right-btn]")},this.movingBox.height(this.options.itemHeight),this._bindEvents(a),this.itemlist=[],this.appendItems(this.options.items)}c.prototype._optionsFilter=function(a){return this.options=a||{},this.options.itemWidth=parseFloat(a.itemWidth)||50,this.options.itemHeight=parseFloat(a.itemHeight)||50,this.options.widthBetweenItems="undefined"==typeof a.widthBetweenItems?3:parseFloat(a.widthBetweenItems),this.options.itemRender=a.itemRender||this.defaultItemRenderFunction,this.options.changeOffset=parseFloat(a.changeOffset)||a.itemWidth+parseFloat(a.widthBetweenItems)/2,this.options.items=a.items||[],a},c.prototype._bindEvents=function(){var a=this,c=this.container;c.on("click","[data-jqx-left-btn]",function(){b(this);return a.isVisibleWidthSmallerThanMovingContainer()?(a.container.trigger("jqx-slider-start"),a.container.trigger("jqx-slider-end"),void a.buttons.left.addClass("disable")):(b(this).removeClass("disable"),void a.moveLeft(a.options.changeOffset))}),c.on("click","[data-jqx-right-btn]",function(){var c=b(this);return a.isVisibleWidthSmallerThanMovingContainer()?(a.container.trigger("jqx-slider-start"),a.container.trigger("jqx-slider-end"),void a.buttons.right.addClass("disable")):(c.removeClass("disable"),void a.moveRight(a.options.changeOffset))}),c.on("click","[data-jqx-item-box]",function(){c.trigger("jqx-slider-item-cliked")})},c.prototype.renderItemContainer=function(a){this.movingBox.append(this.getItemContainerTmplt({context:a}))},c.prototype.getFullWidthOfMovingContainer=function(){var a=this.itemlist.length*this.options.itemWidth+(this.itemlist.length-1)*this.options.widthBetweenItems;return a},c.prototype.getVisibleWidth=function(){return parseFloat(this.movingBoxHolder.width())},c.prototype.isVisibleWidthSmallerThanMovingContainer=function(){return this.getFullWidthOfMovingContainer()<=this.getVisibleWidth()},c.prototype.isInLimit=function(a){var b=this.getVisibleWidth(),c=this.getFullWidthOfMovingContainer();return 0>=a?a+c-b:a},c.prototype.moveLeft=function(a){var b=this;b.movingBox.css("left",function(c,d){var e=parseInt(d)+a;return e>=0?(b.container.trigger("jqx-media-slider-start"),b.buttons.left.addClass("disable"),"0px"):(b.buttons.left.removeClass("disable"),b.buttons.right.addClass("disable"),e+"px")})},c.prototype.moveRight=function(a){var b=this;b.movingBox.css("left",function(c,d){var e=parseFloat(d)-a,f=b.isInLimit(e);return 0>=f?(b.container.trigger("jqx-slider-end"),b.buttons.right.addClass("disable"),e-f+"px"):(b.buttons.right.removeClass("disable"),b.buttons.left.addClass("disable"),e+"px")})},c.prototype.appendItems=function(a){var b=this,c=a||[];b.itemlist=b.itemlist.concat(c),c.forEach(function(a){b.renderItemContainer(a)}),b.isVisibleWidthSmallerThanMovingContainer()?b.buttons.right.addClass("disable"):b.buttons.right.removeClass("disable")},c.prototype.getMainContainerTmplt=function(){var a='<div class="jqx-media-slider">                         <div class="jqx-btn jqx-btn-right jqx-absolute" data-jqx-right-btn="">                             <div class="jqx-triangle-right jqx-in-middle"></div>                         </div>                         <div class="jqx-btn jqx-btn-left jqx-absolute disable" data-jqx-left-btn="">                             <div class="jqx-triangle-left jqx-in-middle"></div>                         </div>                         <div class="jqx-moving-box-holder" data-jqx-moving-box-holder="">                             <div class="jqx-moving-box jqx-relative" data-jqx-moving-box=""></div>                         </div>                     </div>';return a},c.prototype.getItemContainerTmplt=function(a){var c,d=this.options.itemRender(a.context);return c=b("<div>").addClass("jqx-item-box").attr("data-jqx-item-box","").css({height:this.options.itemHeight+"px",width:this.options.itemWidth+"px",marginRight:this.options.widthBetweenItems+"px"}).html(d),b("<div>").append(c.clone()).html()},c.prototype.defaultItemRenderFunction=function(a){return b("<img>").attr("src",a.src).attr("alt",a.alt||"").clone()},b.fn.mediaSlider=function(a){var d=new c(this,a);return b.extend(this,{appendItems:function(a){d.appendItems(a)}})}}(window,jQuery);